<div class="transition-all duration-300">
    
    <!-- Question Text (for reference) -->
    <h2 class="text-2xl font-bold text-text_heading mb-6">
        {{ question.text }}
    </h2>

    <!-- Answers Grid with Correct/Incorrect Styling -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
        {% for answer in question.answers.all %}
            <div class="p-4 rounded-lg border-2
                {% if answer.is_correct %}
                    border-success bg-success-100 text-success-800
                {% elif answer.pk == team_answer.selected_answer.pk %}
                    border-danger bg-danger-100 text-danger-800
                {% else %}
                    border-gray-300 bg-gray-100 text-gray-500
                {% endif %}
            ">
                <span class="text-lg font-medium">{{ forloop.counter }}. {{ answer.text }}</span>
                
                {% if answer.is_correct %}
                    <span class="font-bold ml-2">(Richtig)</span>
                {% elif answer.pk == team_answer.selected_answer.pk %}
                    <span class="font-bold ml-2">(Deine Antwort)</span>
                {% endif %}
            </div>
        {% endfor %}
    </div>

    <!-- Result Summary -->
    <div class="mb-6">
    {% if team_answer.is_correct %}
        <div class="bg-success-100 border-l-4 border-success text-success-800 p-4" role="alert">
            <p class="font-bold text-xl">Richtig!</p>
            <p>Beantwortet von {{ answered_by_user }}.</p>
        </div>
    {% else %}
        <div class="bg-danger-100 border-l-4 border-danger text-danger-800 p-4" role="alert">
            <p class="font-bold text-xl">Falsch!</p>
            <p>Beantwortet von {{ answered_by_user }}.</p>
        </div>
    {% endif %}
    </div>

    <!-- Explanation -->
    <div class="prose max-w-none p-4 bg-box_bg rounded-md border border-gray-200 mb-8">
        <h3 class="text-lg font-semibold text-text_heading mb-2">Erkl채rung:</h3>
        {% if question.explanation %}
            <p class="text-text_default">{{ question.explanation|linebreaksbr }}</p>
        {% else %}
            <p class="italic text-gray-500">F체r diese Frage wurde keine Erkl채rung hinterlegt.</p>
        {% endif %}
    </div>

    <!-- "Next Question" Button -->
    <div class="text-center">
        {% csrf_token %}
        <button 
            class="w-full max-w-md mx-auto py-3 px-6 bg-primary hover:bg-opacity-90 text-white text-xl font-bold rounded-md shadow-lg transition duration-300"
            hx-post="{% url 'next_question' game_session.join_code %}"
            hx-target="#game-state"
            hx-swap="innerHTML"
            hx-include="[name='csrfmiddlewaretoken']">
            
            N채chste Frage
        </button>
    </div>
</div>